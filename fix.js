const fs = require('fs');

// Lire le fichier corrompu
const content = fs.readFileSync('script.js', 'utf8');

// Table de correction pour tous les caractÃ¨res corrompus
const fixes = {
  'ÃƒÂ©': 'Ã©', 'ÃƒÂ¨': 'Ã¨', 'Ãƒ ': 'Ã ', 'ÃƒÂª': 'Ãª', 'ÃƒÂ´': 'Ã´', 'ÃƒÂ®': 'Ã®', 'ÃƒÂ»': 'Ã»', 'ÃƒÂ§': 'Ã§',
  'Ãƒâ€°': 'Ã‰', 'Ãƒâ‚¬': 'Ã€', 'Ãƒâ€¹': 'Ã‹', 'Ãƒ': 'Ã', 'ÃƒÂ¼': 'Ã¼', 'ÃƒÂ¹': 'Ã¹', 'Ãƒâ€š': 'Ã‚', 'ÃƒË†': 'Ãˆ',
  'ÃƒÅ¡': 'Ã™', 'Ãƒ"': 'Ã”', 'Ãƒâ€¡': 'Ã‡',
  'Ã¢â‚¬â„¢': "'", 'Ã¢â‚¬"': 'â€“', 'Ã¢â‚¬Å“': '"', 'Ã¢â‚¬': '"', 'Ã¢â‚¬Â¦': 'â€¦',
  'Ã¢â€°Ë†': 'â‰ˆ', 'Ã¢â€ '': 'â†’', 'Ã¢â€ "': 'â†”', 'Ã‚Â±': 'Â±', 'Ãƒâ€”': 'Ã—',
  'ÃÂ©': 'Î©', 'Ã‚Âµ': 'Âµ', 'Ã‚Â°': 'Â°', 'Ã¢â€°Â¤': 'â‰¤', 'Ã¢â€°Â¥': 'â‰¥',
  'Ã¢Å¡Â¡': 'âš¡', 'Ã°Å¸'Â¡': 'ğŸ’¡', 'Ã°Å¸"Å ': 'ğŸ“Š', 'Ã°Å¸"Â§': 'ğŸ”§', 'Ã°Å¸"Å’': 'ğŸ”Œ',
  'Ã°Å¸"Â±': 'ğŸ“±', 'Ã°Å¸"Âº': 'ğŸ“º', 'Ã°Å¸"Â»': 'ğŸ“»', 'Ã°Å¸"Â¡': 'ğŸ“¡', 'Ã°Å¸â€ºÂ°': 'ğŸ›°',
  'Ã°Å¸Å½â€º': 'ğŸ›', 'Ã°Å¸Å½Å¡': 'ğŸš', 'Ã°Å¸"â€¹': 'ğŸ”‹', 'Ã°Å¸"': 'ğŸ”', 'Ã°Å¸Â§Â®': 'ğŸ§®',
  'Ã°Å¸Å½Â¯': 'ğŸ¯', 'Ã¢Å“â€¦': 'âœ…', 'Ã¢â€Â¹': 'â„¹', 'Ã¢Å¡ ': 'âš ', 'Ã¢Â­': 'â­',
  'Ã°Å¸"': 'ğŸ”¥', 'Ã°Å¸'': 'ğŸ‘', 'Ã¢Å“"': 'âœ”',
  'Ã¢"â‚¬': 'â”€', 'Ã¢"â€š': 'â”‚', 'Ã¢"Â¬': 'â”¬', 'Ã¢"Â¤': 'â”¤', 'Ã¢"Å“': 'â”œ', 'Ã¢"Â´': 'â”´', 'Ã¢"Â¼': 'â”¼'
};

let fixed = content;
for (const [bad, good] of Object.entries(fixes)) {
  fixed = fixed.split(bad).join(good);
}

// Sauvegarder le fichier corrigÃ©
fs.writeFileSync('script.js', fixed, 'utf8');
console.log('âœ… Encodage corrigÃ© !');
